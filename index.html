<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>French Verb Trainer</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    margin: 0;
    background: #f8fafc;
    color: #1f2937;
    line-height: 1.5;
    padding: 1rem;
  }
  header { text-align: center; margin-bottom: 1rem; }
  button {
    min-height: 48px;
    font-size: 1.1rem;
    padding: 0.75rem 1rem;
    border-radius: 8px;
    border: 1px solid #cbd5e1;
    cursor: pointer;
    margin: 0.3rem;
  }
  button:hover { background-color: #2563eb; color: white; border-color: #1d4ed8; }
  button.active { background-color: #2563eb; color: white; border-color: #1d4ed8; }
  input[type="text"] {
    font-size: 1.2rem;
    padding: 0.5rem;
    width: 100%;
    max-width: 400px;
    margin-bottom: 1rem;
    border-radius: 8px;
    border: 1px solid #ccc;
  }
  #feedback {
    font-weight: bold;
    margin-top: 1rem;
  }
  @media (max-width: 600px) {
    body { padding: 0.5rem; }
    button { width: 100%; }
    input[type="text"] { max-width: 100%; }
  }
</style>
</head>
<body>
<header>
  <h1>French Verb Trainer</h1>
  <button id="btn-de" class="active" onclick="setLanguage('german')">Deutsch</button>
  <button id="btn-en" onclick="setLanguage('english')">English</button>
</header>
<main id="main-content" style="text-align:center;">
</main>

<script>
// Verb-Daten mit deutscher und englischer Übersetzung (kürzerer Auszug, erweitern nach Bedarf)
const defaultVerbs = [
  {french_verb:"aimer",german_translation:"lieben",english_translation:"love",je:"aime",tu:"aimes",il_elle:"aime",nous:"aimons",vous:"aimez",ils_elles:"aiment"},
  {french_verb:"parler",german_translation:"sprechen",english_translation:"speak",je:"parle",tu:"parles",il_elle:"parle",nous:"parlons",vous:"parlez",ils_elles:"parlent"},
  {french_verb:"accepter",german_translation:"akzeptieren",english_translation:"accept",je:"accepte",tu:"acceptes",il_elle:"accepte",nous:"acceptons",vous:"acceptez",ils_elles:"acceptent"},
  {french_verb:"blesser",german_translation:"verletzen",english_translation:"hurt",je:"blesse",tu:"blesses",il_elle:"blesse",nous:"blessons",vous:"blessez",ils_elles:"blessent"},
  {french_verb:"refuser",german_translation:"ablehnen",english_translation:"refuse",je:"refuse",tu:"refuses",il_elle:"refuse",nous:"refusons",vous:"refusez",ils_elles:"refusent"},
  {french_verb:"accorder",german_translation:"gewähren",english_translation:"grant",je:"accorde",tu:"accordes",il_elle:"accorde",nous:"accordons",vous:"accordez",ils_elles:"accordent"},
  {french_verb:"accuser",german_translation:"beschuldigen",english_translation:"accuse",je:"accuse",tu:"accuses",il_elle:"accuse",nous:"accusons",vous:"accusez",ils_elles:"accusent"},
  {french_verb:"admirer",german_translation:"bewundern",english_translation:"admire",je:"admire",tu:"admires",il_elle:"admire",nous:"admirons",vous:"admirez",ils_elles:"admirent"},
  {french_verb:"argumenter",german_translation:"argumentieren",english_translation:"argue",je:"argumente",tu:"argumentes",il_elle:"argumente",nous:"argumentons",vous:"argumentez",ils_elles:"argumentent"},
  {french_verb:"confirmer",german_translation:"bestätigen",english_translation:"confirm",je:"confirme",tu:"confirmes",il_elle:"confirme",nous:"confirmons",vous:"confirmez",ils_elles:"confirment"}
];

const pronounsOrder = ["je", "tu", "il_elle", "nous", "vous", "ils_elles"];

let state = {
  language: "german",
  vocabulary: defaultVerbs,
  currentVerbIndex: 0,
  currentPronounIndex: 0,
  results: []
};

function setLanguage(lang) {
  state.language = lang;
  document.getElementById('btn-de').classList.toggle('active', lang==='german');
  document.getElementById('btn-en').classList.toggle('active', lang==='english');
  state.currentVerbIndex = 0;
  state.currentPronounIndex = 0;
  state.results = [];
  showNextConjugation();
}

function showNextConjugation() {
  let main = document.getElementById("main-content");
  if(state.currentVerbIndex >= state.vocabulary.length) {
    showResults();
    return;
  }
  let verb = state.vocabulary[state.currentVerbIndex];
  let pronoun = pronounsOrder[state.currentPronounIndex];
  let displayPronouns = { je:"je", tu:"tu", il_elle:"il/elle", nous:"nous", vous:"vous", ils_elles:"ils/elles" };
  let question = `${verb.french_verb} + ${displayPronouns[pronoun]} = ?`;
  
  let placeholder = state.language === "german" ? "Gebe die Konjugation ein..." : "Enter conjugation...";
  main.innerHTML = `
    <h2>${question}</h2>
    <input type="text" id="answerInput" placeholder="${placeholder}" autofocus/>
    <br/>
    <button onclick="checkAnswer()">${state.language === 'german' ? 'Prüfen' : 'Check'}</button>
    <button onclick="skipAnswer()">${state.language === 'german' ? 'Überspringen' : 'Skip'}</button>
    <p id="feedback"></p>
  `;
}

function checkAnswer() {
  let input = document.getElementById("answerInput");
  let answer = input.value.trim().toLowerCase();
  let verb = state.vocabulary[state.currentVerbIndex];
  let pronoun = pronounsOrder[state.currentPronounIndex];
  let correct = (verb[pronoun] || "").toLowerCase();

  let feedback = document.getElementById("feedback");
  if(answer === correct){
    feedback.textContent = state.language==="german"?"Richtig!":"Correct!";
    feedback.style.color = "green";
    state.results.push(true);
  }else{
    feedback.textContent =
      (state.language==="german"?"Falsch! Richtig wäre: ":"Wrong! Correct answer is: ") + correct;
    feedback.style.color = "red";
    state.results.push(false);
  }
  setTimeout(()=>{
    state.currentPronounIndex++;
    if(state.currentPronounIndex >= pronounsOrder.length){
      state.currentPronounIndex = 0;
      state.currentVerbIndex++;
    }
    showNextConjugation();
  },2000);
}

function skipAnswer(){
  state.results.push(false);
  state.currentPronounIndex++;
  if(state.currentPronounIndex >= pronounsOrder.length){
    state.currentPronounIndex = 0;
    state.currentVerbIndex++;
  }
  showNextConjugation();
}

function showResults(){
  let main = document.getElementById("main-content");
  let correct = state.results.filter(r=>r).length;
  let total = state.results.length;
  let percent = total ? Math.round(correct/total*100) : 0;
  let message = percent>80?"Ausgezeichnet!":percent>60?"Gut gemacht!":"Weiter üben!";

  main.innerHTML = `
    <h2>${state.language==="german"?"Ergebnisse":"Results"}</h2>
    <p>${correct} / ${total} ${state.language==="german"?"richtig":"correct"}</p>
    <p>${message}</p>
    <button onclick="setLanguage(state.language)">${state.language==="german"?"Nochmal":"Restart"}</button>
  `;
}

// Starte mit Deutsch als Standard
setLanguage("german");
</script>
</body>
</html>
